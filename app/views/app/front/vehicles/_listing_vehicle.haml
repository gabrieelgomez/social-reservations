

%section#seach-widget
  .container
    - unless @results.blank?
      .box-search
        .container
          .row
            .col-lg-9
              %p.result
                %span
                  Su búsqueda:
                %span
                  ="#{@origin_name}" 
                %span
                  = " > #{@arrival_name}"
            .col-lg-3
              %p
                %a.pull-right.link-widget Volver a relizar la búsqueda
                  %i.


  .container.js-widget.js-hide-widget.widget-results
    .row
      .col-lg-12
        .widget-results__search
          %ul.nav.nav-tabs.widget-results__search--items
            %li.active
              %a{"data-toggle" => "tab", :href => "#transfers"} 
                %i.fa.fa-car
                Traslados
            -#%li
              %a{"data-toggle" => "tab", :href => "#circuits"}
                %i.fa.fa-train
                Circuitos
            -#%li
              %a{"data-toggle" => "tab", :href => "#tours"} 
                %i.fa.fa-map-o
                Tours
            -#%li
              %a.fix{"data-toggle" => "tab", :href => "#multidestines"} 
                %i.fa.fa-plane
                Multidestinos
          .tab-content
            //#transfers
            #transfers.tab-pane.fade.in.active
              .box-transfers
                .row
                  .col-lg-12
                    .trip-circle

                      .single-trip-circle
                        %input#ida_vuelta.radio-fecha-vuelos{:name => "ida_o_vuelta", :type => "radio"}/
                        %label.ida_vuelta{:for => "ida_vuelta"}
                          %span.round-boarder
                            %span.round-boarder1
                          Ida y vuelta

                      .single-trip-circle
                        %input#solo_ida.radio-fecha-vuelos{:name => "ida_o_vuelta", :type => "radio"}/
                        %label.solo_ida{:for => "solo_ida"}
                          %span.round-boarder>
                            %span.round-boarder1
                          Solo ida

                  .col-lg-3
                    .box-item
                      %h2 Origen
                      %input.google-input.form-control{id: 'origin_vehicle', name: 'origin_vehicle'}
                      %input{name: 'origin_hidden', id: 'origin_hidden', type: 'hidden'}

                  .col-lg-3
                    .box-item
                      %h2 Destino
                      %input.custom-input.form-control{id: 'arrival_vehicle', name: 'arrival_vehicle'}
                      %input{name: 'arrival_hidden', id: 'arrival_hidden', type: 'hidden'}


                  .col-lg-2
                    .box-item
                      %h2 Fecha de Ida
                      .form-group
                        %input.form-control.custom-input{name: 'flight_origin_picker', id: 'flight_origin_picker', autocomplete: 'off'}/

                  .col-lg-2#vuelo_vuelta
                    .box-item
                      %h2 Fecha de Vuelta
                      .form-group
                        %input.form-control.custom-input{name: 'flight_arrival_picker', id: 'flight_arrival_picker', autocomplete: 'off'}/

                  .col-lg-1
                    .box-item
                      %h2 Adultos
                      .form-group
                        %input#adults.custom-input.form-control{min: 1, name: 'quantity_adults', :type => "number"}/

                  .col-lg-1
                    .box-item
                      %h2 Niños
                      .form-group
                        %input#kids.custom-input.form-control{min: 1, name: 'quantity_kids', :type => "number"}/

                  .col-lg-12
                    .about-btn.travel-mrt-0.pull-right.box-btn
                      %button.about-view.travel-btn
                        buscar

      
%section#vehicles.vehicles
  .container
    - unless @results.blank?
      .gallary-header.text-center
        %h2
          Seleccione el tipo de vehículo que desea
        %p
          Duis aute irure dolor in velit esse cillum dolore eu fugiat nulla.
  .content-vehicles
    .container
      .row
        - if @results.blank?
          .col-lg-12
            .box-results
              .image-search
                = image_tag '/assets/img/loupe.svg'
              .gallary-header.text-center
                %h2
                  ¡Lo sentimos! No hemos encontrado ningún resultado.
                %p
                  = link_to root_path do
                    Volver a relizar la búsqueda


        - else
          - @results.each do |vehicle|
            .col-lg-4
              .cars
                .cars__img{style:"background-image: url('#{vehicle.cover.url}')"}
                .cars__inf
                  .box-title
                    %span.title= vehicle.title[@lang]
                  %p.amount-people
                    %span
                      %i.icon-people.icons
                      Máx de Asientos:
                      = vehicle.seat
                      Personas
                  %p.amount-people
                    %span
                      %i.icon-bag.icons
                      Máx de Maletas:
                      = vehicle.kit['quantity']
                      Piezas
                      (#{vehicle.kit['weight']}kg)
                  -# %p.date-time
                  -#   %span
                  -#     %i.icon-calendar.icons
                  -#     Fecha: 12/02/2018
                  -# %p.date-time
                  -#   %span
                  -#     %i.icon-clock.icons
                  -#     Hora: 12:00pm
                  .box-items
                    .box-price
                      %span.price
                        = @currency.upcase
                        = number_to_currency(vehicle.price[@currency], locale: @locale)
                    .box-btn
                      = link_to reservations_vehicle_path(@lang, @currency, vehicle, org_name: @origin_name,
                        org_loc:@origin_location, arr_name: @arrival_name, arr_loc:@arrival_location,
                        adults: @adults, kids: @kids, round_trip: @round_trip,
                        flight_origin_picker: @flight_origin_picker, flight_arrival_picker: @flight_arrival_picker) do
                        %button.about-view.packages-btn
                          seleccionar

%script{:src => "https://maps.googleapis.com/maps/api/js?key=AIzaSyDt6Fm4Tge8PJpUNhByW314XyvQGJRpDFc&sensor=false&libraries=places", :type => "text/javascript"}
%link{:href => "https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css", :rel => "stylesheet"}/
%script{:src => "https://code.jquery.com/ui/1.12.1/jquery-ui.js"}

:javascript
  validateForm('#search-input');
  $( '.link-widget' ).on( 'click', function() {
      $('.js-widget').removeClass('js-hide-widget');
      $('.js-widget').addClass('js-show-widget');
  });
  $('#vuelo_vuelta').addClass('show-input');
  //$( "#solo_ida").prop('checked', true);
  $( "#ida_vuelta").prop('checked', true);
  $('#round_trip').val(false);
  /*$( '.radio-fecha-vuelos' ).on( 'click', function() {
      if( $('#ida_vuelta').is(':checked') ){
          $('#round_trip').val(true);
          $('#vuelo_vuelta').removeClass('hidden-input');
          $('#vuelo_vuelta').addClass('show-input');
      } else {
          $('#round_trip').val(false);
          $('#vuelo_vuelta').removeClass('show-input');
          $('#vuelo_vuelta').addClass('hidden-input');
      }
  });*/

  $( '.radio-fecha-vuelos' ).on( 'click', function() {
      if( $('#solo_ida').is(':checked') ){
          $('#round_trip').val(true);
          $('#vuelo_vuelta').addClass('hidden-input');

      } else {
        $('#vuelo_vuelta').removeClass('hidden-input');
        $('#vuelo_vuelta').addClass('show-input');
      }
  });

