!!!
%html
  %head
    %meta{content: "width=device-width, initial-scale=1.0", name: "viewport"}/
    %meta{content: "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    :css
      @import url('https://fonts.googleapis.com/css?family=Poppins:400,500,700');
      @import url('https://fonts.googleapis.com/css?family=Noto+Sans|Poppins:400,500,700');

      * {
        margin: 0;
        padding: 0;
        border: 0;
      }

      *:not(br):not(tr):not(html) {
        font-family: 'Noto Sans', sans-serif;
        box-sizing: border-box;
      }

      body {
        width: 100% !important;
        height: 100%;
        margin: 0;
        line-height: 1.4;
        background-color: #F2F4F6;
        color: #74787E;
        -webkit-text-size-adjust: none;
        font-family: 'Poppins', sans-serif;
      }

      p,
      ul,
      ol,
      blockquote {
        line-height: 1.4;
        text-align: left;
      }

      a {
        color: #3869D4;
      }

      a img {
        border: none;
      }

      td {
        word-break: break-word;
      }

      /* Layout ------------------------------ */
      .email-wrapper {
        width: 100%;
        margin: 0;
        padding: 0;
        -premailer-width: 100%;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
        background-color: #585858;
      }

      .email-content {
        width: 100%;
        margin: 0;
        padding: 0;
        -premailer-width: 100%;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
      }

      /* Masthead ----------------------- */
      .email-masthead {
        padding: 25px 0;
        text-align: center;
        background-color: #4e4e56;
      }

      .email-masthead img {
        height: 25%;
      }

      .email-masthead_logo {
        width: 94px;
      }

      .email-masthead_name {
        font-size: 16px;
        font-weight: bold;
        color: #bbbfc3;
        text-decoration: none;
        text-shadow: 0 1px 0 white;
      }

      /* Body ------------------------------ */
      .email-body {
        width: 100%;
        margin: 0;
        padding: 0;
        -premailer-width: 100%;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
        border-top: 1px solid #EDEFF2;
        border-bottom: 1px solid #EDEFF2;
        background-color: #FFFFFF;
      }

      .email-body_inner {
        width: 600px;
        margin: 0 auto;
        padding: 0;
        -premailer-width: 570px;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
        background-color: #FFFFFF;
      }

      .email-footer {
        width: 570px;
        margin: 0 auto;
        padding: 0;
        -premailer-width: 570px;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
        text-align: center;
      }

      .email-footer p {
        color: #fff;
      }

      .body-action {
        width: 100%;
        margin: 30px auto;
        padding: 0;
        -premailer-width: 100%;
        -premailer-cellpadding: 0;
        -premailer-cellspacing: 0;
        text-align: center;
      }

      .body-sub {
        margin-top: 25px;
        padding-top: 25px;
        border-top: 1px solid #EDEFF2;
      }

      .content-cell {
        padding: 35px;
      }

      /* Attribute list ------------------------------ */
      .attributes {
        margin: 0 0 21px;
      }

      .attributes_content {
        background-color: #fff;
        padding: 16px;
      }

      .attributes_item {
        padding: 0;
        line-height: 28px;
      }

      .attributes_item strong {
        color: #2F3133;
      }

      .attributes_item img {
        margin-top: 20px;
        width: 100%;
      }

      #company {
        color: white;
        text-decoration: none !important;
      }

      /* Utilities ------------------------------ */
      .align-right {
        text-align: right;
      }

      .align-left {
        text-align: left;
      }

      .align-center {
        text-align: center;
      }

      /*Media Queries ------------------------------ */
      @media only screen and (max-width:600px) {

        .email-body_inner,
        .email-footer {
          width: 100% !important;
        }

      }

      @media only screen and (max-width:500px) {
        .button {
          width: 100% !important;
        }

      }

      @media only screen and (max-width:767px) {
        .email-masthead img {
          width: 30%;
        }

      }

      /* Type ------------------------------ */
      h1 {
        margin-top: 0;
        color: #43b7e8;
        font-size: 19px;
        font-weight: bold;
        text-align: center;
      }

      h2 {
        margin-top: 0;
        color: #2F3133;
        font-size: 16px;
        font-weight: bold;
        text-align: center;
      }

      h3 {
        margin-top: 0;
        color: #2F3133;
        font-size: 14px;
        font-weight: bold;
        text-align: center;
      }

      p {
        margin-top: 0;
        color: #74787E;
        font-size: 16px;
        line-height: 1.5em;
        text-align: center;
      }

      p.sub {
        font-size: 13px;
      }

      p.center {
        text-align: center;
      }
  %body
    %table.email-wrapper{cellpadding: "0", cellspacing: "0", width: "100%"}
      %tr
        %td{align: "center"}
          %table.email-content{cellpadding: "0", cellspacing: "0", width: "100%"}
            %tr
              %td.email-masthead
                %a.email-masthead_name{href: "#"}
                  %img{src: "https://preview.ibb.co/iPv4mV/logo.png"}/
            / Email Body
            %tr
              %td.email-body{cellpadding: "0", cellspacing: "0", width: "100%"}
                %table.email-body_inner{align: "center", cellpadding: "0", cellspacing: "0", width: "570"}
                  / Body content
                  %tr
                    %td.content-cell
                      %h1="¡Estimado #{@reservation.user.name}!"
                      %h1
                      %p Datos del Conductor/Vehiculo
                      %table.attributes{cellpadding: "0", cellspacing: "0", width: "100%"}
                        %tr
                          %td.attributes_content
                            %table{cellpadding: "0", cellspacing: "0", width: "100%"}
                              %tr
                                %td.attributes_item
                                  %strong Nombre del Conductor:
                                  = @driver.name
                              %tr
                                %td.attributes_item
                                  %strong Teléfono del Conductor:
                                  = @driver.phone
                              %tr
                                %td.attributes_item
                                  %strong Vehiculo:
                                  = @vehicle.title['es']
                              %tr
                                %td.attributes_item
                                  %strong Cantidad de Asientos:
                                  = @vehicle.seat

                              %tr
                                %td.attributes_item
                                  %strong Placas:
                                  - @reservation.driver.car_descriptions.each_with_index do |description, index|
                                    - if description.licenses.nil?
                                      %ul{:style => "list-style: none !important;"}
                                        %li= '-----------'
                                    - else
                                      - description.licenses.each do |license|
                                        %ul{:style => "list-style: none !important;"}
                                          %li= license.nil? ? '-----------' : "#{license.matricula} - #{license.color}"

                              %tr
                                %td.attributes_item
                                  %strong{middle: "", "style:" => ""} Imagen del Vehiculo:
                                  = image_tag attachments[@logo].url, style: "height: 80px; width: 80px; vertical-align: middle;border-radius: 50%;"


                              %tr
                                %td{:style => "height:35px;"}
                              %tr
                                %td{:colspan => "2", :style => "border: solid 1px #ddd; padding:10px 20px;"}
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"}= "¡Estimado Usuario! Su solicitud se encuentra en el estado #{t("keppler.messages.#{@reservation.order.status}").downcase} "
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} Nombre del Cotizante
                                    = @reservation.user.name
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} N° Orden
                                    = @reservation.id.blank? ? '-----------' : @reservation.id
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} Código de Reserva
                                    = @reservation.invoice.token.blank? ? '-----------' : @reservation.invoice.token
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} Tipo de Moneda
                                    = @reservation.invoice.currency.upcase.blank? ? '-----------' : @reservation.invoice.currency.upcase
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} Plataforma de Pago
                                    EnLineaPagos ELP
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:150px"} Estatus de la Orden
                                    - if @reservation.order.status == 'payment_link'
                                      %b{:style => "margin:0;color: white;background-color:green;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status}")

                                    - elsif @reservation.order.status == 'credit_agency'
                                      %b{:style => "margin:0;color: white;background-color:green;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status}")

                                    - elsif @reservation.order.status == 'cancelled'
                                      %b{:style => "margin:0;color: white;background-color:red;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status}")
                                  - if @reservation.order.status == 'payment_link' && @reservation.order.status_pay == 'pending'
                                    %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                      %span{:style => "font-weight:bold;display:inline-block;min-width:146px"} Link de Pago
                                      %a{href: @reservation.url_payment, target: '_blank'} Ir a link de pago
                                  %p{:style => "font-size:14px;margin:0 0 6px 0;"}
                                    %span{:style => "font-weight:bold;display:inline-block;min-width:150px"} Estatus del Pago
                                    - if @reservation.order.status_pay == 'pending'
                                      %b{:style => "margin:0;color: white;background-color:#f39c12;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status_pay}")

                                    - elsif @reservation.order.status_pay == 'approved'
                                      %b{:style => "margin:0;color: white;background-color:green;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status_pay}")

                                    - elsif @reservation.order.status_pay == 'cancelled'
                                      %b{:style => "margin:0;color: white;background-color:red;padding:4px;border-radius:5px;font-weight:bold;"}= t("keppler.messages.#{@reservation.order.status_pay}")


                      %p
                        Si tiene alguna pregunta o modificación sobre su servicio, comuníquese con nosotros 24/7 a reservas@receptivocolombia.com o vía whatsapp al
                        = link_to "https://api.whatsapp.com/send?phone=573173632119", target: "_blank" do
                          %span +573173632119
                        If you have any questions or modifications on your services, contact us 24/7 at reservas@receptivocolombia.com or via whatsapp at
                        = link_to "https://api.whatsapp.com/send?phone=573173632119", target: "_blank" do
                          %span +573173632119
                      %p
                        Recordándole que estamos a su completa disposición ante cualquier consulta o duda que pueda
                        tener
                        %br/
                        %strong Un cordial saludo - Receptivo Colombia
            %tr
              %td
                %table.email-footer{align: "center", cellpadding: "0", cellspacing: "0", width: "570"}
                  %tr
                    %td.content-cell{align: "center"}
                      %p.sub.align-center Receptivo Colombia © - 2018 | Todos los derechos reservados
                      %p.sub.align-center
                        Desarrollado por
                        %a#company{href: "http://slicegroup.xyz"}
                          %strong Slice Group
