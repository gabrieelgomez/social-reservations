
%link{:href => "https://www.tutorialspoint.com/jquery/src/filer/css/jquery.filer.css", :rel => "stylesheet", :type => "text/css"}/
%link{:href => "https://www.tutorialspoint.com/jquery/src/filer/css/themes/jquery.filer-dragdropbox-theme.css", :rel => "stylesheet", :type => "text/css"}/
%script{:src => "https://www.tutorialspoint.com/jquery/src/filer/js/jquery.filer.min.js", :type => "text/javascript"}

= simple_form_for [:admin, :travel, @transfer] do |f|
  .container
    .row
      .col-lg-2
        = link_to admin_travel_transfers_path, class: "", "data-position" => "bottom", "data-tooltip" => t("keppler.actions.back") do
          .arrow-back.btn.btn-default
            %i.fa.fa-angle-left
            = t('keppler.actions.back')

    .row
      .col-lg-12
        .box.slice-box
          .box-header.with-border
            %h3.box-title= t("keppler.modules.#{action_name.underscore}")
            .box-tools.pull-right
              %a.btn.btn-box-tool{"data-widget" => "collapse", :type => "button"}
                %i.fa.fa-minus
          .box-body
            %table.table.table-bordered
              %tbody
                .form-padding

                  // Field multilanguage
                  .col-xs-12.col-md-6
                    .nav-tabs-custom
                      %ul.nav.nav-tabs
                        %li.active
                          %a{"data-toggle" => "tab", :href => "#spanish"} Español
                        %li
                          %a{"data-toggle" => "tab", :href => "#english"} Inglés
                        %li
                          %a{"data-toggle" => "tab", :href => "#portugues"} Portugués
                      .tab-content{style: 'padding:inherit!important;margin-bottom:10px;'}

                        // ESPAÑOL
                        #spanish.tab-pane.active
                          .col-xs-12
                            = f.simple_fields_for :title, OpenStruct.new(@transfer.title) do |field|
                              = field.input :es, label: 'Titulo'
                        // INGLÉS
                        #english.tab-pane
                          .col-xs-12
                            = f.simple_fields_for :title, OpenStruct.new(@transfer.title) do |field|
                              = field.input :en, label: 'Title'
                        // PORTUGUÉS
                        #portugues.tab-pane
                          .col-xs-12
                            = f.simple_fields_for :title, OpenStruct.new(@transfer.title) do |field|
                              = field.input :pt, label: 'Titulo'

                    .col-xs-12.col-md-12
                      .row
                        = f.simple_fields_for :price, OpenStruct.new(@transfer.price) do |field|
                          .col-lg-6
                            = field.input :cop, label: 'Precio COP', input_html: { min: '1', type: 'number' }
                          .col-lg-6
                            = field.input :usd, label: 'Precio USD', input_html: { min: '1', type: 'number' }

                    .col-xs-12.col-md-12
                      .row
                        = f.simple_fields_for :kit, OpenStruct.new(@transfer.kit) do |field|
                          .col-lg-6
                            = field.input :quantity, label: 'Piezas Máx. Equipaje', input_html: { min: '1', type: 'number' }
                          .col-lg-6
                            = field.input :weight, label: 'Peso Máx. Equipaje', input_html: { min: '1', type: 'number' }
 
                    .col-xs-12.col-md-12
                      .row
                        .col-lg-6
                          = f.input :seat, label: 'Cantidad Máx. Asientos', input_html: { min: '1', type: 'number' }

                  // Cover
                  .col-xs-12.col-md-6
                    .row
                      .col-lg-12
                        = f.input :cover, as: :keppler_file, label: false, max_size: 800

                  
                  .col-xs-4
                    = f.input :position, as: :hidden
                    = f.input :deleted_at, as: :hidden
                  .col-xs-12
                    .pull-right
                      = f.button :submit, t('keppler.actions.save'), name: '_save', class: 'btn-primary'
                      = f.button :submit, t('keppler.actions.save_and_add_another'), name: '_add_other'


%link{:href => "https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css", :rel => "stylesheet"}/
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"}

:javascript
  $('#destinations_transfers').select2();
  collectImages("#transfer_files", ".edit_transfer", "transfer[files_delete][]");

- if action_name == 'new'
  :javascript
    validateForm('#new_transfer');
- else
  :javascript
    var transfer_id = #{raw @transfer.id};
    validateForm(`#edit_transfer_${transfer_id}`);

:scss
  label.error-class{color: #e60707 !important;}
